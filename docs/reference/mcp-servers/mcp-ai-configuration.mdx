---
title: Configuring MCP Servers with AI Assistants
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import {defaultCredentials} from '../../_constants.mdx';

# Configuring MCP Servers with AI Assistants

This guide shows how to obtain authentication credentials and configure your AI assistant to connect to OpenChoreo MCP servers.

## Prerequisites

Before following this guide:

1. Review the [MCP Servers Overview](./mcp-servers-overview.mdx) to understand the available MCP servers
2. Note your MCP server URLs from the overview page
3. Have your AI assistant installed and ready to configure

## Obtaining an Authentication Token

Both MCP servers require OAuth2-based authentication. Choose the method that best fits your AI assistant and workflow:

<Tabs groupId="auth-method">
<TabItem value="client-credentials" label="Client Credentials (Programmatic)" default>

This method uses OAuth2 client credentials grant for programmatic authentication. Best for AI assistants that support custom headers and bearer tokens.

### Step 1: Create an OAuth2 Application in Your IdP

Create an OAuth2 application in the IdP configured with OpenChoreo with the following settings:

| Setting | Value |
|---|---|
| **Grant Type** | `client_credentials` |
| **Client ID** | `mcp_client` |
| **Client Secret** | `mcp_client_secret` |

:::tip Quick Start / Default Installation
If you are using the default identity provider that ships with OpenChoreo, log in to the IdP developer portal (e.g., `http://thunder.openchoreo.localhost:8080/develop` with credentials `admin` / `admin`) to create the application with the above settings.
:::

### Step 2: Obtain Your Token

Set your environment variables:

```bash
export IDP_TOKEN_URL="<your-idp-token-endpoint>"
```

:::note Quick Start / Default Installation
```bash
export IDP_TOKEN_URL="http://thunder.openchoreo.localhost:8080/oauth2/token"
```
:::

Use the standard OAuth2 client credentials grant to get an access token:

```bash
curl -s -X POST "${IDP_TOKEN_URL}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -u 'mcp_client:mcp_client_secret' \
  -d 'grant_type=client_credentials'
```

The response will contain an `access_token` that you can use as the Bearer token for authenticating with both OpenChoreo MCP servers.

Example response:
```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600
}
```

Copy the `access_token` value for use in your AI assistant configuration.

</TabItem>
<TabItem value="auth-code" label="Authorization Code (Browser-Based)">

This method uses OAuth2 authorization code grant with browser-based authentication. Best for AI assistants that support OAuth flows with PKCE.

### Step 1: Create an OAuth2 Application in Your IdP

Create an OAuth2 application in the IdP configured with OpenChoreo with the following settings:

| Setting | Value |
|---|---|
| **Grant Types** | `authorization_code`, `refresh_token` |
| **Client ID** | `mcp_client` |
| **Public Client (PKCE)** | `true` |
| **Redirect URIs** | `http://localhost:8076/callback` |
| **Scopes** | `openid`, `profile`, `email` |

:::note Redirect URIs
The `redirect_uris` should be configured according to your AI assistant's callback URL. The example uses `http://localhost:8076/callback`, but you should update this to match your AI assistant's configuration. Refer to your AI assistant's MCP documentation for the correct callback URL.
:::

:::tip Quick Start / Default Installation
If you are using the default identity provider that ships with OpenChoreo, log in to the IdP developer portal (e.g., `http://thunder.openchoreo.localhost:8080/develop` with credentials `admin` / `admin`) to create the application with the above settings.
:::

### Step 2: Configure Your AI Assistant

When configuring your AI assistant with this OAuth2 application, you'll be prompted to login via your browser. Use the same credentials you would use to access the OpenChoreo Backstage UI.

**Default Login Credentials:**
- Username: <code>{defaultCredentials.username}</code>
- Password: <code>{defaultCredentials.password}</code>

Once authenticated, your AI assistant will receive an access token to use for authenticating with both OpenChoreo MCP servers.

</TabItem>
</Tabs>

## Configuring AI Assistants

Use `http` transport, obtained endpoint URL and the credentials to configure the MCP servers in your AI assistant.
You can configure your AI assistant to connect to one or both MCP servers depending on your needs:

### Control Plane MCP Server Only

Configure this if you want to manage OpenChoreo resources (namespaces, projects, components, deployments, etc.):

- **Endpoint URL**: Use the Control Plane MCP server URL from the [MCP Servers Overview](./mcp-servers-overview.mdx#finding-mcp-server-urls)
- **Use Case**: Application development, deployment management, infrastructure configuration

### Observability Plane MCP Server Only

Configure this if you want to access observability data:

- **Endpoint URL**: Use the Observability Plane MCP server URL from the [MCP Servers Overview](./mcp-servers-overview.mdx#finding-mcp-server-urls)
- **Use Case**: Troubleshooting, monitoring, log analysis, performance investigation

:::tip Recommended
Configure **both** servers for the best experience. The Control Plane MCP server provides resource UUIDs that are needed by many Observability Plane MCP tools.
:::

To configure both servers:

1. Add the Control Plane MCP server configuration with its endpoint URL
2. Add the Observability Plane MCP server configuration with its endpoint URL
3. Use the same authentication token for both servers

Your AI assistant will have access to tools from both servers, enabling it to manage resources and troubleshoot issues simultaneously.

## Next Steps

After configuring your AI assistant:

1. Test the connection by asking your AI assistant to list OpenChoreo projects or components
2. For observability queries, ensure both MCP servers are configured to enable UUID-based queries
3. Refer to your AI assistant's documentation for MCP-specific features and capabilities
